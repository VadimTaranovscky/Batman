{"version":3,"sources":["script.js"],"names":["linksListElement","document","querySelector","posterElement","sybscribeFormElement","mainInfoElement","bookMark","lastElementChild","searchInput","movieBlockList","movieList","movies","actorsInfo","id","src","alt","name","$","window","resize","innerWidth","createActorCard","actors","createActorsWrapper","createNotFoundBlock","createDescription","createRecention","clearParentElement","find","remove","mainInfoKids","children","length","i","removeChild","sortLinkByName","linkText","clear","toLowerCase","insertAdjacentHTML","changedArr","map","item","firstElementChild","changeTab","target","tagName","links","querySelectorAll","style","color","textContent","getUserMail","userMail","console","log","setMovie","resultMovie","li","createElement","innerHTML","append","addEventListener","value","createMovieList","filter","startsWith","sendEmail","mailValue","test","swal","icon","title","text","addBookMark","getAttribute","removeAttribute","setAttribute","closeOnClickOutside","buttons","timer","event","preventDefault"],"mappings":"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","file":"script-min.js","sourcesContent":["\"use strict\";\r\n\r\nconst linksListElement = document.querySelector(\".tabs ul\");\r\nconst posterElement = document.querySelector(\".poster\");\r\nconst sybscribeFormElement = document.querySelector(\".sybscribe-form\");\r\nconst mainInfoElement = document.querySelector(\".main-info\");\r\nconst bookMark = linksListElement.lastElementChild;\r\nconst searchInput = document.querySelector(\".search-input\");\r\nconst movieBlockList = document.querySelector(\".movie-block-list\");\r\nconst movieList = movieBlockList.querySelector(\".movie-list\");\r\n\r\nconst movies = [\r\n  \"Человек паук\",\r\n  \"Халк\",\r\n  \"Капитан америка\",\r\n  \"Ограбление по итальянски\",\r\n  \"11 друзей оушена\",\r\n  \"8 подруг оушена\",\r\n  \"Мулан\",\r\n  \"Тор\",\r\n  \"Сокровище нации\",\r\n  \"Джокер\",\r\n  \"Меч короля артура\",\r\n  \"Том и джерри\",\r\n  \"Гадкий я\",\r\n  \"Миньоны\",\r\n  \"Полный расколбас\"\r\n];\r\n\r\nconst actorsInfo = [\r\n  {\r\n    id: 0,\r\n    src: \"./img/Robert.jpg\",\r\n    alt: \"Robert Pattison\",\r\n    name: \"Роберт Паттисон\"\r\n  },\r\n  {\r\n    id: 1,\r\n    src: \"./img/Zoi.jpg\",\r\n    alt: \"Zoi Kravetz\",\r\n    name: \"Зои Кравиц\"\r\n  },\r\n  {\r\n    id: 2,\r\n    src: \"./img/Kolin.jpg\",\r\n    alt: \"Robert Pattison\",\r\n    name: \"Kolin Pharell\"\r\n  },\r\n  {\r\n    id: 3,\r\n    src: \"./img/Piter.jpg\",\r\n    alt: \"Piter Sarsgaard\",\r\n    name: \"Питер Сарсгаард\"\r\n  },\r\n  {\r\n    id: 4,\r\n    src: \"./img/Poul.jpg\",\r\n    alt: \"Poul Dano\",\r\n    name: \"Пол Дано\"\r\n  },\r\n  {\r\n    id: 5,\r\n    src: \"./img/Endi.jpg\",\r\n    alt: \"Endi Serkis\",\r\n    name: \"Энди Серкис\"\r\n  },\r\n  {\r\n    id: 6,\r\n    src: \"./img/Jeff.jpg\",\r\n    alt: \"Jeffri Rait\",\r\n    name: \"Джеффри Райт\"\r\n  },\r\n  {\r\n    id: 7,\r\n    src: \"./img/John.jpg\",\r\n    alt: \"John Turturo\",\r\n    name: \"Джон Туртуро\"\r\n  },\r\n  {\r\n    id: 8,\r\n    src: \"./img/Maks.jpg\",\r\n    alt: \"Maks Karver\",\r\n    name: \"Макс Карвер\"\r\n  },\r\n  {\r\n    id: 9,\r\n    src: \"./img/Conn.jpg\",\r\n    alt: \"Conn Onill\",\r\n    name: \"Кон Онилл\"\r\n  }\r\n];\r\n\r\n$(window).resize(() => {\r\n  if (innerWidth < 765) {\r\n    posterElement.src = \"./img/mobile-poster.png\";\r\n  } else {\r\n    posterElement.src = \"./img/cover.jpg\";\r\n  }\r\n});\r\n\r\nconst createActorCard = actors => {\r\n  const { src, alt, name } = actors;\r\n  return `\r\n  <div class=\"actor-card\">\r\n    <img src=${src} alt=${alt}>\r\n    <h5>${name}</h5>\r\n  </div>\r\n  `;\r\n};\r\n\r\nconst createActorsWrapper = () => {\r\n  return `\r\n  <div class=\"actors-cards\"></div>\r\n  `;\r\n};\r\n\r\nconst createNotFoundBlock = () => {\r\n  return `\r\n  <div class=\"empty-info\">\r\n  <h2>К сожалению, в данном разделе пока нет информации</h2>\r\n  <img src=\"./img/sad.svg\" alt=\"smile\">\r\n  </div>\r\n  `;\r\n};\r\n\r\nconst createDescription = () => {\r\n  return `<p>\r\n    Предстоящий американский супергеройский фильм, основанный на\r\n    одноимённых комиксах издательства DC Comics. Картина будет\r\n    выпущена компанией Warner Bros. и будет перезагрузкой всех\r\n    фильмов о Бэтмене.\r\n  </p>\r\n  <br />\r\n  <p>\r\n    Фильм является десятым по счёту фильмом из Расширенной\r\n    вселенной DC. Режиссёром и сценаристом фильма выступит Мэтт\r\n    Ривз, а главную роль исполнит Роберт Паттинсон.\r\n  </p>\r\n  <br />\r\n  <h3>Разработка</h3>\r\n  <br />\r\n  <p>\r\n    В октябре 2014 года студия Warner Bros. объявила, что в\r\n    разработке находится сольный фильм о Бэтмене, роль которого\r\n    вновь исполнит Бен Аффлек. В июле 2015 года сообщалось, что\r\n    Аффлек ведёт переговоры со студией по поводу постановки фильма\r\n    и совместного написания сценария с Джеффом Джонсом\r\n  </p>\r\n  <br />\r\n  <p>\r\n    После выхода фильма «Бэтмен против Супермена: На заре\r\n    справедливости» руководитель агентства WME Патрик Уайтсел\r\n    подтвердил, что Аффлек написал сценарий для сольного фильма о\r\n    Бэтмене и в настоящий момент его рассматривают студия и DC. В\r\n    мае 2016 года Джереми Айронс подтвердил, что он появится в\r\n    фильме про Тёмного Рыцаря.\r\n  </p>\r\n  <br />\r\n  <p>\r\n    На Comic-Con в Сан-Диего в июле 2016 года было официально\r\n    подтверждено, что Аффлек станет режиссёром картины. В августе\r\n    2016 года на одной из страниц Аффлека в социальных сетях был\r\n    опубликован тестовый материал, в котором был показан персонаж\r\n    Детстроук. 8 сентября 2016 года Джефф Джонс подтвердил, что\r\n    Джо Манганьелло сыграет наёмника Слейда Уилсона, который,\r\n    возможно, станет главным злодеем фильма.\r\n  </p>`;\r\n};\r\n\r\nconst createRecention = () => {\r\n  return `\r\n    <div class=\"feedback-card\">\r\n    <div class=\"user-info\">\r\n      <span>Example</span>\r\n      <span>Example</span>\r\n    </div>\r\n    <div class=\"message\">\r\n      Lorem ipsum dolor sit amet consectetur, adipisicing elit. Deserunt voluptatibus at assumenda, amet a culpa, repudiandae earum fugiat, deleniti omnis est voluptas facere accusamus repellat.\r\n    </div>\r\n  </div>\r\n    `;\r\n};\r\n\r\nconst clearParentElement = () => {\r\n  $(mainInfoElement)\r\n    .find(\"br\")\r\n    .remove();\r\n  const mainInfoKids = mainInfoElement.children.length;\r\n  for (let i = 0; i < mainInfoKids; i++) {\r\n    mainInfoElement.removeChild(mainInfoElement.lastElementChild);\r\n  }\r\n  return true;\r\n};\r\n\r\nconst sortLinkByName = linkText => {\r\n  const clear = clearParentElement();\r\n  if (linkText.toLowerCase() === \"рецензии\" && clear === true) {\r\n    for (let i = 0; i < 5; i++) {\r\n      mainInfoElement.insertAdjacentHTML(\"afterbegin\", createRecention());\r\n    }\r\n  }\r\n  if (linkText.toLowerCase() === \"описание\" && clear === true) {\r\n    mainInfoElement.insertAdjacentHTML(\"afterbegin\", createDescription());\r\n  }\r\n  if (linkText.toLowerCase() === \"актеры\" && clear === true) {\r\n    const changedArr = actorsInfo.map(item => {\r\n      return createActorCard(item);\r\n    });\r\n    mainInfoElement.insertAdjacentHTML(\"afterbegin\", createActorsWrapper());\r\n    for (let item of changedArr) {\r\n      mainInfoElement.firstElementChild.insertAdjacentHTML(\"beforeend\", item);\r\n    }\r\n  }\r\n  if (\r\n    linkText.toLowerCase() === \"премьеры\" ||\r\n    linkText.toLowerCase() === \"награды\" ||\r\n    linkText.toLowerCase() === \"факты\" ||\r\n    (linkText.toLowerCase() === \"сайты\" && clear === true)\r\n  ) {\r\n    mainInfoElement.insertAdjacentHTML(\"afterbegin\", createNotFoundBlock());\r\n  }\r\n};\r\n\r\nconst changeTab = target => {\r\n  if (target.tagName === \"A\") {\r\n    const links = linksListElement.querySelectorAll(\"a\");\r\n    for (let item of links) {\r\n      item.style.color = \"black\";\r\n    }\r\n    target.style.color = \"#FF8F27\";\r\n    sortLinkByName(target.textContent);\r\n  }\r\n};\r\n\r\nconst getUserMail = userMail => {\r\n  console.log(userMail);\r\n};\r\n\r\nconst setMovie = resultMovie => {\r\n  movieList.textContent = \"\";\r\n  for (let item of resultMovie) {\r\n    const li = document.createElement(\"li\");\r\n    li.innerHTML = item;\r\n    movieList.append(li);\r\n    li.addEventListener(\"click\", () => {\r\n      searchInput.value = li.textContent;\r\n      movieList.textContent = \"\";\r\n    });\r\n  }\r\n};\r\n\r\nconst createMovieList = () => {\r\n  movieList.textContent = \"\";\r\n  if (searchInput.value != \"\") {\r\n    const resultMovie = movies.filter(item => {\r\n      return item.toLowerCase().startsWith(searchInput.value.toLowerCase());\r\n    });\r\n    setMovie(resultMovie);\r\n  }\r\n};\r\n\r\nconst sendEmail = () => {\r\n  const mailValue = sybscribeFormElement.querySelector(\".subscribe-field\");\r\n  const mailRegex = /^[\\w-\\.]+@[\\w-]+\\.[a-z]{2,4}$/i;\r\n  if (mailRegex.test(mailValue.value)) {\r\n    getUserMail(mailValue.value);\r\n    swal({\r\n      icon: \"success\",\r\n      title: \"Успех!\",\r\n      text: \"Вы подписались на рассылку\"\r\n    });\r\n    mailValue.value = \"\";\r\n  }\r\n};\r\n\r\nconst addBookMark = () => {\r\n  const check = bookMark.firstElementChild.getAttribute(\"check\");\r\n  if (check == \"false\") {\r\n    bookMark.firstElementChild.src = \"./img/bookmark-icon.svg\";\r\n    bookMark.firstElementChild.removeAttribute(\"check\");\r\n    bookMark.firstElementChild.setAttribute(\"check\", \"true\");\r\n    swal({\r\n      icon: \"success\",\r\n      title: \"Добавлено!\",\r\n      text: \"Теперь страница в ваших закладках\",\r\n      closeOnClickOutside: true,\r\n      buttons: false,\r\n      timer: 2500\r\n    });\r\n  } else {\r\n    bookMark.firstElementChild.src = \"./img/svg-editor-image.svg\";\r\n    bookMark.firstElementChild.removeAttribute(\"check\");\r\n    bookMark.firstElementChild.setAttribute(\"check\", \"false\");\r\n    swal({\r\n      icon: \"success\",\r\n      title: \"Удалено!\",\r\n      text: \"Страница удалена из списка ваших закладок\",\r\n      closeOnClickOutside: true,\r\n      buttons: false,\r\n      timer: 2500\r\n    });\r\n  }\r\n};\r\n\r\nsybscribeFormElement.addEventListener(\"submit\", event => {\r\n  event.preventDefault();\r\n  sendEmail();\r\n});\r\n\r\nbookMark.addEventListener(\"click\", () => {\r\n  addBookMark();\r\n});\r\n\r\nsearchInput.addEventListener(\"input\", () => {\r\n  createMovieList();\r\n});\r\n\r\nlinksListElement.addEventListener(\"click\", event => {\r\n  event.preventDefault();\r\n  changeTab(event.target);\r\n});\r\n"]}