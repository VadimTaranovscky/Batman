"use strict";const linksListElement=document.querySelector(".tabs ul"),posterElement=document.querySelector(".poster"),sybscribeFormElement=document.querySelector(".sybscribe-form"),mainInfoElement=document.querySelector(".main-info"),bookMark=linksListElement.lastElementChild,searchInput=document.querySelector(".search-input"),movieBlockList=document.querySelector(".movie-block-list"),movieList=movieBlockList.querySelector(".movie-list"),movies=["Человек паук","Халк","Капитан америка","Ограбление по итальянски","11 друзей оушена","8 подруг оушена","Мулан","Тор","Сокровище нации","Джокер","Меч короля артура","Том и джерри","Гадкий я","Миньоны","Полный расколбас"],actorsInfo=[{id:0,src:"./img/Robert.jpg",alt:"Robert Pattison",name:"Роберт Паттисон"},{id:1,src:"./img/Zoi.jpg",alt:"Zoi Kravetz",name:"Зои Кравиц"},{id:2,src:"./img/Kolin.jpg",alt:"Robert Pattison",name:"Kolin Pharell"},{id:3,src:"./img/Piter.jpg",alt:"Piter Sarsgaard",name:"Питер Сарсгаард"},{id:4,src:"./img/Poul.jpg",alt:"Poul Dano",name:"Пол Дано"},{id:5,src:"./img/Endi.jpg",alt:"Endi Serkis",name:"Энди Серкис"},{id:6,src:"./img/Jeff.jpg",alt:"Jeffri Rait",name:"Джеффри Райт"},{id:7,src:"./img/John.jpg",alt:"John Turturo",name:"Джон Туртуро"},{id:8,src:"./img/Maks.jpg",alt:"Maks Karver",name:"Макс Карвер"},{id:9,src:"./img/Conn.jpg",alt:"Conn Onill",name:"Кон Онилл"}];$(window).resize(()=>{innerWidth<765?posterElement.src="./img/mobile-poster.png":posterElement.src="./img/cover.jpg"});const createActorCard=e=>{const{src:t,alt:n,name:i}=e;return`\n  <div class="actor-card">\n    <img src=${t} alt=${n}>\n    <h5>${i}</h5>\n  </div>\n  `},createActorsWrapper=()=>'\n  <div class="actors-cards"></div>\n  ',createNotFoundBlock=()=>'\n  <div class="empty-info">\n  <h2>К сожалению, в данном разделе пока нет информации</h2>\n  <img src="./img/sad.svg" alt="smile">\n  </div>\n  ',createDescription=()=>"<p>\n    Предстоящий американский супергеройский фильм, основанный на\n    одноимённых комиксах издательства DC Comics. Картина будет\n    выпущена компанией Warner Bros. и будет перезагрузкой всех\n    фильмов о Бэтмене.\n  </p>\n  <br />\n  <p>\n    Фильм является десятым по счёту фильмом из Расширенной\n    вселенной DC. Режиссёром и сценаристом фильма выступит Мэтт\n    Ривз, а главную роль исполнит Роберт Паттинсон.\n  </p>\n  <br />\n  <h3>Разработка</h3>\n  <br />\n  <p>\n    В октябре 2014 года студия Warner Bros. объявила, что в\n    разработке находится сольный фильм о Бэтмене, роль которого\n    вновь исполнит Бен Аффлек. В июле 2015 года сообщалось, что\n    Аффлек ведёт переговоры со студией по поводу постановки фильма\n    и совместного написания сценария с Джеффом Джонсом\n  </p>\n  <br />\n  <p>\n    После выхода фильма «Бэтмен против Супермена: На заре\n    справедливости» руководитель агентства WME Патрик Уайтсел\n    подтвердил, что Аффлек написал сценарий для сольного фильма о\n    Бэтмене и в настоящий момент его рассматривают студия и DC. В\n    мае 2016 года Джереми Айронс подтвердил, что он появится в\n    фильме про Тёмного Рыцаря.\n  </p>\n  <br />\n  <p>\n    На Comic-Con в Сан-Диего в июле 2016 года было официально\n    подтверждено, что Аффлек станет режиссёром картины. В августе\n    2016 года на одной из страниц Аффлека в социальных сетях был\n    опубликован тестовый материал, в котором был показан персонаж\n    Детстроук. 8 сентября 2016 года Джефф Джонс подтвердил, что\n    Джо Манганьелло сыграет наёмника Слейда Уилсона, который,\n    возможно, станет главным злодеем фильма.\n  </p>",createRecention=()=>'\n    <div class="feedback-card">\n    <div class="user-info">\n      <span>Example</span>\n      <span>Example</span>\n    </div>\n    <div class="message">\n      Lorem ipsum dolor sit amet consectetur, adipisicing elit. Deserunt voluptatibus at assumenda, amet a culpa, repudiandae earum fugiat, deleniti omnis est voluptas facere accusamus repellat.\n    </div>\n  </div>\n    ',clearParentElement=()=>{$(mainInfoElement).find("br").remove();const e=mainInfoElement.children.length;for(let t=0;t<e;t++)mainInfoElement.removeChild(mainInfoElement.lastElementChild);return!0},sortLinkByName=e=>{const t=clearParentElement();if("рецензии"===e.toLowerCase()&&!0===t)for(let e=0;e<5;e++)mainInfoElement.insertAdjacentHTML("afterbegin",'\n    <div class="feedback-card">\n    <div class="user-info">\n      <span>Example</span>\n      <span>Example</span>\n    </div>\n    <div class="message">\n      Lorem ipsum dolor sit amet consectetur, adipisicing elit. Deserunt voluptatibus at assumenda, amet a culpa, repudiandae earum fugiat, deleniti omnis est voluptas facere accusamus repellat.\n    </div>\n  </div>\n    ');if("описание"===e.toLowerCase()&&!0===t&&mainInfoElement.insertAdjacentHTML("afterbegin","<p>\n    Предстоящий американский супергеройский фильм, основанный на\n    одноимённых комиксах издательства DC Comics. Картина будет\n    выпущена компанией Warner Bros. и будет перезагрузкой всех\n    фильмов о Бэтмене.\n  </p>\n  <br />\n  <p>\n    Фильм является десятым по счёту фильмом из Расширенной\n    вселенной DC. Режиссёром и сценаристом фильма выступит Мэтт\n    Ривз, а главную роль исполнит Роберт Паттинсон.\n  </p>\n  <br />\n  <h3>Разработка</h3>\n  <br />\n  <p>\n    В октябре 2014 года студия Warner Bros. объявила, что в\n    разработке находится сольный фильм о Бэтмене, роль которого\n    вновь исполнит Бен Аффлек. В июле 2015 года сообщалось, что\n    Аффлек ведёт переговоры со студией по поводу постановки фильма\n    и совместного написания сценария с Джеффом Джонсом\n  </p>\n  <br />\n  <p>\n    После выхода фильма «Бэтмен против Супермена: На заре\n    справедливости» руководитель агентства WME Патрик Уайтсел\n    подтвердил, что Аффлек написал сценарий для сольного фильма о\n    Бэтмене и в настоящий момент его рассматривают студия и DC. В\n    мае 2016 года Джереми Айронс подтвердил, что он появится в\n    фильме про Тёмного Рыцаря.\n  </p>\n  <br />\n  <p>\n    На Comic-Con в Сан-Диего в июле 2016 года было официально\n    подтверждено, что Аффлек станет режиссёром картины. В августе\n    2016 года на одной из страниц Аффлека в социальных сетях был\n    опубликован тестовый материал, в котором был показан персонаж\n    Детстроук. 8 сентября 2016 года Джефф Джонс подтвердил, что\n    Джо Манганьелло сыграет наёмника Слейда Уилсона, который,\n    возможно, станет главным злодеем фильма.\n  </p>"),"актеры"===e.toLowerCase()&&!0===t){const e=actorsInfo.map(e=>createActorCard(e));mainInfoElement.insertAdjacentHTML("afterbegin",'\n  <div class="actors-cards"></div>\n  ');for(let t of e)mainInfoElement.firstElementChild.insertAdjacentHTML("beforeend",t)}("премьеры"===e.toLowerCase()||"награды"===e.toLowerCase()||"факты"===e.toLowerCase()||"сайты"===e.toLowerCase()&&!0===t)&&mainInfoElement.insertAdjacentHTML("afterbegin",'\n  <div class="empty-info">\n  <h2>К сожалению, в данном разделе пока нет информации</h2>\n  <img src="./img/sad.svg" alt="smile">\n  </div>\n  ')},changeTab=e=>{if("A"===e.tagName){const t=linksListElement.querySelectorAll("a");for(let e of t)e.style.color="black";e.style.color="#FF8F27",sortLinkByName(e.textContent)}},getUserMail=e=>{console.log(e)},setMovie=e=>{movieList.textContent="";for(let t of e){const e=document.createElement("li");e.innerHTML=t,movieList.append(e),e.addEventListener("click",()=>{searchInput.value=e.textContent,movieList.textContent=""})}},createMovieList=()=>{if(movieList.textContent="",""!=searchInput.value){const e=movies.filter(e=>e.toLowerCase().startsWith(searchInput.value.toLowerCase()));setMovie(e)}},sendEmail=()=>{const e=sybscribeFormElement.querySelector(".subscribe-field");var t;/^[\w-\.]+@[\w-]+\.[a-z]{2,4}$/i.test(e.value)&&(t=e.value,console.log(t),swal({icon:"success",title:"Успех!",text:"Вы подписались на рассылку"}),e.value="")},addBookMark=()=>{"false"==bookMark.firstElementChild.getAttribute("check")?(bookMark.firstElementChild.src="./img/bookmark-icon.svg",bookMark.firstElementChild.removeAttribute("check"),bookMark.firstElementChild.setAttribute("check","true"),swal({icon:"success",title:"Добавлено!",text:"Теперь страница в ваших закладках",closeOnClickOutside:!0,buttons:!1,timer:2500})):(bookMark.firstElementChild.src="./img/svg-editor-image.svg",bookMark.firstElementChild.removeAttribute("check"),bookMark.firstElementChild.setAttribute("check","false"),swal({icon:"success",title:"Удалено!",text:"Страница удалена из списка ваших закладок",closeOnClickOutside:!0,buttons:!1,timer:2500}))};sybscribeFormElement.addEventListener("submit",e=>{e.preventDefault(),sendEmail()}),bookMark.addEventListener("click",()=>{"false"==bookMark.firstElementChild.getAttribute("check")?(bookMark.firstElementChild.src="./img/bookmark-icon.svg",bookMark.firstElementChild.removeAttribute("check"),bookMark.firstElementChild.setAttribute("check","true"),swal({icon:"success",title:"Добавлено!",text:"Теперь страница в ваших закладках",closeOnClickOutside:!0,buttons:!1,timer:2500})):(bookMark.firstElementChild.src="./img/svg-editor-image.svg",bookMark.firstElementChild.removeAttribute("check"),bookMark.firstElementChild.setAttribute("check","false"),swal({icon:"success",title:"Удалено!",text:"Страница удалена из списка ваших закладок",closeOnClickOutside:!0,buttons:!1,timer:2500}))}),searchInput.addEventListener("input",()=>{createMovieList()}),linksListElement.addEventListener("click",e=>{e.preventDefault(),changeTab(e.target)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJsaW5rc0xpc3RFbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicG9zdGVyRWxlbWVudCIsInN5YnNjcmliZUZvcm1FbGVtZW50IiwibWFpbkluZm9FbGVtZW50IiwiYm9va01hcmsiLCJsYXN0RWxlbWVudENoaWxkIiwic2VhcmNoSW5wdXQiLCJtb3ZpZUJsb2NrTGlzdCIsIm1vdmllTGlzdCIsIm1vdmllcyIsImFjdG9yc0luZm8iLCJpZCIsInNyYyIsImFsdCIsIm5hbWUiLCIkIiwid2luZG93IiwicmVzaXplIiwiaW5uZXJXaWR0aCIsImNyZWF0ZUFjdG9yQ2FyZCIsImFjdG9ycyIsImNyZWF0ZUFjdG9yc1dyYXBwZXIiLCJjcmVhdGVOb3RGb3VuZEJsb2NrIiwiY3JlYXRlRGVzY3JpcHRpb24iLCJjcmVhdGVSZWNlbnRpb24iLCJjbGVhclBhcmVudEVsZW1lbnQiLCJmaW5kIiwicmVtb3ZlIiwibWFpbkluZm9LaWRzIiwiY2hpbGRyZW4iLCJsZW5ndGgiLCJpIiwicmVtb3ZlQ2hpbGQiLCJzb3J0TGlua0J5TmFtZSIsImxpbmtUZXh0IiwiY2xlYXIiLCJ0b0xvd2VyQ2FzZSIsImluc2VydEFkamFjZW50SFRNTCIsImNoYW5nZWRBcnIiLCJtYXAiLCJpdGVtIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJjaGFuZ2VUYWIiLCJ0YXJnZXQiLCJ0YWdOYW1lIiwibGlua3MiLCJxdWVyeVNlbGVjdG9yQWxsIiwic3R5bGUiLCJjb2xvciIsInRleHRDb250ZW50IiwiZ2V0VXNlck1haWwiLCJ1c2VyTWFpbCIsImNvbnNvbGUiLCJsb2ciLCJzZXRNb3ZpZSIsInJlc3VsdE1vdmllIiwibGkiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJIVE1MIiwiYXBwZW5kIiwiYWRkRXZlbnRMaXN0ZW5lciIsInZhbHVlIiwiY3JlYXRlTW92aWVMaXN0IiwiZmlsdGVyIiwic3RhcnRzV2l0aCIsInNlbmRFbWFpbCIsIm1haWxWYWx1ZSIsInRlc3QiLCJzd2FsIiwiaWNvbiIsInRpdGxlIiwidGV4dCIsImFkZEJvb2tNYXJrIiwiZ2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiY2xvc2VPbkNsaWNrT3V0c2lkZSIsImJ1dHRvbnMiLCJ0aW1lciIsImV2ZW50IiwicHJldmVudERlZmF1bHQiXSwibWFwcGluZ3MiOiJBQUFBLGFBRUEsTUFBTUEsaUJBQW1CQyxTQUFTQyxjQUFjLFlBQzFDQyxjQUFnQkYsU0FBU0MsY0FBYyxXQUN2Q0UscUJBQXVCSCxTQUFTQyxjQUFjLG1CQUM5Q0csZ0JBQWtCSixTQUFTQyxjQUFjLGNBQ3pDSSxTQUFXTixpQkFBaUJPLGlCQUM1QkMsWUFBY1AsU0FBU0MsY0FBYyxpQkFDckNPLGVBQWlCUixTQUFTQyxjQUFjLHFCQUN4Q1EsVUFBWUQsZUFBZVAsY0FBYyxlQUV6Q1MsT0FBUyxDQUNiLGVBQ0EsT0FDQSxrQkFDQSwyQkFDQSxtQkFDQSxrQkFDQSxRQUNBLE1BQ0Esa0JBQ0EsU0FDQSxvQkFDQSxlQUNBLFdBQ0EsVUFDQSxvQkFHSUMsV0FBYSxDQUNqQixDQUNFQyxHQUFJLEVBQ0pDLElBQUssbUJBQ0xDLElBQUssa0JBQ0xDLEtBQU0sbUJBRVIsQ0FDRUgsR0FBSSxFQUNKQyxJQUFLLGdCQUNMQyxJQUFLLGNBQ0xDLEtBQU0sY0FFUixDQUNFSCxHQUFJLEVBQ0pDLElBQUssa0JBQ0xDLElBQUssa0JBQ0xDLEtBQU0saUJBRVIsQ0FDRUgsR0FBSSxFQUNKQyxJQUFLLGtCQUNMQyxJQUFLLGtCQUNMQyxLQUFNLG1CQUVSLENBQ0VILEdBQUksRUFDSkMsSUFBSyxpQkFDTEMsSUFBSyxZQUNMQyxLQUFNLFlBRVIsQ0FDRUgsR0FBSSxFQUNKQyxJQUFLLGlCQUNMQyxJQUFLLGNBQ0xDLEtBQU0sZUFFUixDQUNFSCxHQUFJLEVBQ0pDLElBQUssaUJBQ0xDLElBQUssY0FDTEMsS0FBTSxnQkFFUixDQUNFSCxHQUFJLEVBQ0pDLElBQUssaUJBQ0xDLElBQUssZUFDTEMs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SUFDekNBLEVBQU1DLGlCQUNOdEMsVUFBVXFDLEVBQU1wQyIsImZpbGUiOiJzY3JpcHQtbWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5jb25zdCBsaW5rc0xpc3RFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YWJzIHVsXCIpO1xyXG5jb25zdCBwb3N0ZXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3N0ZXJcIik7XHJcbmNvbnN0IHN5YnNjcmliZUZvcm1FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zeWJzY3JpYmUtZm9ybVwiKTtcclxuY29uc3QgbWFpbkluZm9FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLWluZm9cIik7XHJcbmNvbnN0IGJvb2tNYXJrID0gbGlua3NMaXN0RWxlbWVudC5sYXN0RWxlbWVudENoaWxkO1xyXG5jb25zdCBzZWFyY2hJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VhcmNoLWlucHV0XCIpO1xyXG5jb25zdCBtb3ZpZUJsb2NrTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW92aWUtYmxvY2stbGlzdFwiKTtcclxuY29uc3QgbW92aWVMaXN0ID0gbW92aWVCbG9ja0xpc3QucXVlcnlTZWxlY3RvcihcIi5tb3ZpZS1saXN0XCIpO1xyXG5cclxuY29uc3QgbW92aWVzID0gW1xyXG4gIFwi0KfQtdC70L7QstC10Log0L/QsNGD0LpcIixcclxuICBcItCl0LDQu9C6XCIsXHJcbiAgXCLQmtCw0L/QuNGC0LDQvSDQsNC80LXRgNC40LrQsFwiLFxyXG4gIFwi0J7Qs9GA0LDQsdC70LXQvdC40LUg0L/QviDQuNGC0LDQu9GM0Y/QvdGB0LrQuFwiLFxyXG4gIFwiMTEg0LTRgNGD0LfQtdC5INC+0YPRiNC10L3QsFwiLFxyXG4gIFwiOCDQv9C+0LTRgNGD0LMg0L7Rg9GI0LXQvdCwXCIsXHJcbiAgXCLQnNGD0LvQsNC9XCIsXHJcbiAgXCLQotC+0YBcIixcclxuICBcItCh0L7QutGA0L7QstC40YnQtSDQvdCw0YbQuNC4XCIsXHJcbiAgXCLQlNC20L7QutC10YBcIixcclxuICBcItCc0LXRhyDQutC+0YDQvtC70Y8g0LDRgNGC0YPRgNCwXCIsXHJcbiAgXCLQotC+0Lwg0Lgg0LTQttC10YDRgNC4XCIsXHJcbiAgXCLQk9Cw0LTQutC40Lkg0Y9cIixcclxuICBcItCc0LjQvdGM0L7QvdGLXCIsXHJcbiAgXCLQn9C+0LvQvdGL0Lkg0YDQsNGB0LrQvtC70LHQsNGBXCJcclxuXTtcclxuXHJcbmNvbnN0IGFjdG9yc0luZm8gPSBbXHJcbiAge1xyXG4gICAgaWQ6IDAsXHJcbiAgICBzcmM6IFwiLi9pbWcvUm9iZXJ0LmpwZ1wiLFxyXG4gICAgYWx0OiBcIlJvYmVydCBQYXR0aXNvblwiLFxyXG4gICAgbmFtZTogXCLQoNC+0LHQtdGA0YIg0J/QsNGC0YLQuNGB0L7QvVwiXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogMSxcclxuICAgIHNyYzogXCIuL2ltZy9ab2kuanBnXCIsXHJcbiAgICBhbHQ6IFwiWm9pIEtyYXZldHpcIixcclxuICAgIG5hbWU6IFwi0JfQvtC4INCa0YDQsNCy0LjRhlwiXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogMixcclxuICAgIHNyYzogXCIuL2ltZy9Lb2xpbi5qcGdcIixcclxuICAgIGFsdDogXCJSb2JlcnQgUGF0dGlzb25cIixcclxuICAgIG5hbWU6IFwiS29saW4gUGhhcmVsbFwiXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogMyxcclxuICAgIHNyYzogXCIuL2ltZy9QaXRlci5qcGdcIixcclxuICAgIGFsdDogXCJQaXRlciBTYXJzZ2FhcmRcIixcclxuICAgIG5hbWU6IFwi0J/QuNGC0LXRgCDQodCw0YDRgdCz0LDQsNGA0LRcIlxyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6IDQsXHJcbiAgICBzcmM6IFwiLi9pbWcvUG91bC5qcGdcIixcclxuICAgIGFsdDogXCJQb3VsIERhbm9cIixcclxuICAgIG5hbWU6IFwi0J/QvtC7INCU0LDQvdC+XCJcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiA1LFxyXG4gICAgc3JjOiBcIi4vaW1nL0VuZGkuanBnXCIsXHJcbiAgICBhbHQ6IFwiRW5kaSBTZXJraXNcIixcclxuICAgIG5hbWU6IFwi0K3QvdC00Lgg0KHQtdGA0LrQuNGBXCJcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiA2LFxyXG4gICAgc3JjOiBcIi4vaW1nL0plZmYuanBnXCIsXHJcbiAgICBhbHQ6IFwiSmVmZnJpIFJhaXRcIixcclxuICAgIG5hbWU6IFwi0JTQttC10YTRhNGA0Lgg0KDQsNC50YJcIlxyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6IDcsXHJcbiAgICBzcmM6IFwiLi9pbWcvSm9obi5qcGdcIixcclxuICAgIGFsdDogXCJKb2huIFR1cnR1cm9cIixcclxuICAgIG5hbWU6IFwi0JTQttC+0L0g0KLRg9GA0YLRg9GA0L5cIlxyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6IDgsXHJcbiAgICBzcmM6IFwiLi9pbWcvTWFrcy5qcGdcIixcclxuICAgIGFsdDogXCJNYWtzIEthcnZlclwiLFxyXG4gICAgbmFtZTogXCLQnNCw0LrRgSDQmtCw0YDQstC10YBcIlxyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6IDksXHJcbiAgICBzcmM6IFwiLi9pbWcvQ29ubi5qcGdcIixcclxuICAgIGFsdDogXCJDb25uIE9uaWxsXCIsXHJcbiAgICBuYW1lOiBcItCa0L7QvSDQntC90LjQu9C7XCJcclxuICB9XHJcbl07XHJcblxyXG4kKHdpbmRvdykucmVzaXplKCgpID0+IHtcclxuICBpZiAoaW5uZXJXaWR0aCA8IDc2NSkge1xyXG4gICAgcG9zdGVyRWxlbWVudC5zcmMgPSBcIi4vaW1nL21vYmlsZS1wb3N0ZXIucG5nXCI7XHJcbiAgfSBlbHNlIHtcclxuICAgIHBvc3RlckVsZW1lbnQuc3JjID0gXCIuL2ltZy9jb3Zlci5qcGdcIjtcclxuICB9XHJcbn0pO1xyXG5cclxuY29uc3QgY3JlYXRlQWN0b3JDYXJkID0gYWN0b3JzID0+IHtcclxuICBjb25zdCB7IHNyYywgYWx0LCBuYW1lIH0gPSBhY3RvcnM7XHJcbiAgcmV0dXJuIGBcclxuICA8ZGl2IGNsYXNzPVwiYWN0b3ItY2FyZFwiPlxyXG4gICAgPGltZyBzcmM9JHtzcmN9IGFsdD0ke2FsdH0+XHJcbiAgICA8aDU+JHtuYW1lfTwvaDU+XHJcbiAgPC9kaXY+XHJcbiAgYDtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZUFjdG9yc1dyYXBwZXIgPSAoKSA9PiB7XHJcbiAgcmV0dXJuIGBcclxuICA8ZGl2IGNsYXNzPVwiYWN0b3JzLWNhcmRzXCI+PC9kaXY+XHJcbiAgYDtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZU5vdEZvdW5kQmxvY2sgPSAoKSA9PiB7XHJcbiAgcmV0dXJuIGBcclxuICA8ZGl2IGNsYXNzPVwiZW1wdHktaW5mb1wiPlxyXG4gIDxoMj7QmiDRgdC+0LbQsNC70LXQvdC40Y4sINCyINC00LDQvdC90L7QvCDRgNCw0LfQtNC10LvQtSDQv9C+0LrQsCDQvdC10YIg0LjQvdGE0L7RgNC80LDRhtC40Lg8L2gyPlxyXG4gIDxpbWcgc3JjPVwiLi9pbWcvc2FkLnN2Z1wiIGFsdD1cInNtaWxlXCI+XHJcbiAgPC9kaXY+XHJcbiAgYDtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZURlc2NyaXB0aW9uID0gKCkgPT4ge1xyXG4gIHJldHVybiBgPHA+XHJcbiAgICDQn9GA0LXQtNGB0YLQvtGP0YnQuNC5INCw0LzQtdGA0LjQutCw0L3RgdC60LjQuSDRgdGD0L/QtdGA0LPQtdGA0L7QudGB0LrQuNC5INGE0LjQu9GM0LwsINC+0YHQvdC+0LLQsNC90L3Ri9C5INC90LBcclxuICAgINC+0LTQvdC+0LjQvNGR0L3QvdGL0YUg0LrQvtC80LjQutGB0LDRhSDQuNC30LTQsNGC0LXQu9GM0YHRgtCy0LAgREMgQ29taWNzLiDQmtCw0YDRgtC40L3QsCDQsdGD0LTQtdGCXHJcbiAgICDQstGL0L/Rg9GJ0LXQvdCwINC60L7QvNC/0LDQvdC40LXQuSBXYXJuZXIgQnJvcy4g0Lgg0LHRg9C00LXRgiDQv9C10YDQtdC30LDQs9GA0YPQt9C60L7QuSDQstGB0LXRhVxyXG4gICAg0YTQuNC70YzQvNC+0LIg0L4g0JHRjdGC0LzQtdC90LUuXHJcbiAgPC9wPlxyXG4gIDxiciAvPlxyXG4gIDxwPlxyXG4gICAg0KTQuNC70YzQvCDRj9Cy0LvRj9C10YLRgdGPINC00LXRgdGP0YLRi9C8INC/0L4g0YHRh9GR0YLRgyDRhNC40LvRjNC80L7QvCDQuNC3INCg0LDRgdGI0LjRgNC10L3QvdC+0LlcclxuICAgINCy0YHQtdC70LXQvdC90L7QuSBEQy4g0KDQtdC20LjRgdGB0ZHRgNC+0Lwg0Lgg0YHRhtC10L3QsNGA0LjRgdGC0L7QvCDRhNC40LvRjNC80LAg0LLRi9GB0YLRg9C/0LjRgiDQnNGN0YLRglxyXG4gICAg0KDQuNCy0LcsINCwINCz0LvQsNCy0L3Rg9GOINGA0L7Qu9GMINC40YHQv9C+0LvQvdC40YIg0KDQvtCx0LXRgNGCINCf0LDRgtGC0LjQvdGB0L7QvS5cclxuICA8L3A+XHJcbiAgPGJyIC8+XHJcbiAgPGgzPtCg0LDQt9GA0LDQsdC+0YLQutCwPC9oMz5cclxuICA8YnIgLz5cclxuICA8cD5cclxuICAgINCSINC+0LrRgtGP0LHRgNC1IDIwMTQg0LPQvtC00LAg0YHRgtGD0LTQuNGPIFdhcm5lciBCcm9zLiDQvtCx0YrRj9Cy0LjQu9CwLCDRh9GC0L4g0LJcclxuICAgINGA0LDQt9GA0LDQsdC+0YLQutC1INC90LDRhdC+0LTQuNGC0YHRjyDRgdC+0LvRjNC90YvQuSDRhNC40LvRjNC8INC+INCR0Y3RgtC80LXQvdC1LCDRgNC+0LvRjCDQutC+0YLQvtGA0L7Qs9C+XHJcbiAgICDQstC90L7QstGMINC40YHQv9C+0LvQvdC40YIg0JHQtdC9INCQ0YTRhNC70LXQui4g0JIg0LjRjtC70LUgMjAxNSDQs9C+0LTQsCDRgdC+0L7QsdGJ0LDQu9C+0YHRjCwg0YfRgtC+XHJcbiAgICDQkNGE0YTQu9C10Log0LLQtdC00ZHRgiDQv9C10YDQtdCz0L7QstC+0YDRiyDRgdC+INGB0YLRg9C00LjQtdC5INC/0L4g0L/QvtCy0L7QtNGDINC/0L7RgdGC0LDQvdC+0LLQutC4INGE0LjQu9GM0LzQsFxyXG4gICAg0Lgg0YHQvtCy0LzQtdGB0YLQvdC+0LPQviDQvdCw0L/QuNGB0LDQvdC40Y8g0YHRhtC10L3QsNGA0LjRjyDRgSDQlNC20LXRhNGE0L7QvCDQlNC20L7QvdGB0L7QvFxyXG4gIDwvcD5cclxuICA8YnIgLz5cclxuICA8cD5cclxuICAgINCf0L7RgdC70LUg0LLRi9GF0L7QtNCwINGE0LjQu9GM0LzQsCDCq9CR0Y3RgtC80LXQvSDQv9GA0L7RgtC40LIg0KHRg9C/0LXRgNC80LXQvdCwOiDQndCwINC30LDRgNC1XHJcbiAgICDRgdC/0YDQsNCy0LXQtNC70LjQstC+0YHRgtC4wrsg0YDRg9C60L7QstC+0LTQuNGC0LXQu9GMINCw0LPQtdC90YLRgdGC0LLQsCBXTUUg0J/QsNGC0YDQuNC6INCj0LDQudGC0YHQtdC7XHJcbiAgICDQv9C+0LTRgtCy0LXRgNC00LjQuywg0YfRgtC+INCQ0YTRhNC70LXQuiDQvdCw0L/QuNGB0LDQuyDRgdGG0LXQvdCw0YDQuNC5INC00LvRjyDRgdC+0LvRjNC90L7Qs9C+INGE0LjQu9GM0LzQsCDQvlxyXG4gICAg0JHRjdGC0LzQtdC90LUg0Lgg0LIg0L3QsNGB0YLQvtGP0YnQuNC5INC80L7QvNC10L3RgiDQtdCz0L4g0YDQsNGB0YHQvNCw0YLRgNC40LLQsNGO0YIg0YHRgtGD0LTQuNGPINC4IERDLiDQklxyXG4gICAg0LzQsNC1IDIwMTYg0LPQvtC00LAg0JTQttC10YDQtdC80Lgg0JDQudGA0L7QvdGBINC/0L7QtNGC0LLQtdGA0LTQuNC7LCDRh9GC0L4g0L7QvSDQv9C+0Y/QstC40YLRgdGPINCyXHJcbiAgICDRhNC40LvRjNC80LUg0L/RgNC+INCi0ZHQvNC90L7Qs9C+INCg0YvRhtCw0YDRjy5cclxuICA8L3A+XHJcbiAgPGJyIC8+XHJcbiAgPHA+XHJcbiAgICDQndCwIENvbWljLUNvbiDQsiDQodCw0L0t0JTQuNC10LPQviDQsiDQuNGO0LvQtSAyMDE2INCz0L7QtNCwINCx0YvQu9C+INC+0YTQuNGG0LjQsNC70YzQvdC+XHJcbiAgICDQv9C+0LTRgtCy0LXRgNC20LTQtdC90L4sINGH0YLQviDQkNGE0YTQu9C10Log0YHRgtCw0L3QtdGCINGA0LXQttC40YHRgdGR0YDQvtC8INC60LDRgNGC0LjQvdGLLiDQkiDQsNCy0LPRg9GB0YLQtVxyXG4gICAgMjAxNiDQs9C+0LTQsCDQvdCwINC+0LTQvdC+0Lkg0LjQtyDRgdGC0YDQsNC90LjRhiDQkNGE0YTQu9C10LrQsCDQsiDRgdC+0YbQuNCw0LvRjNC90YvRhSDRgdC10YLRj9GFINCx0YvQu1xyXG4gICAg0L7Qv9GD0LHQu9C40LrQvtCy0LDQvSDRgtC10YHRgtC+0LLRi9C5INC80LDRgtC10YDQuNCw0LssINCyINC60L7RgtC+0YDQvtC8INCx0YvQuyDQv9C+0LrQsNC30LDQvSDQv9C10YDRgdC+0L3QsNC2XHJcbiAgICDQlNC10YLRgdGC0YDQvtGD0LouIDgg0YHQtdC90YLRj9Cx0YDRjyAyMDE2INCz0L7QtNCwINCU0LbQtdGE0YQg0JTQttC+0L3RgSDQv9C+0LTRgtCy0LXRgNC00LjQuywg0YfRgtC+XHJcbiAgICDQlNC20L4g0JzQsNC90LPQsNC90YzQtdC70LvQviDRgdGL0LPRgNCw0LXRgiDQvdCw0ZHQvNC90LjQutCwINCh0LvQtdC50LTQsCDQo9C40LvRgdC+0L3QsCwg0LrQvtGC0L7RgNGL0LksXHJcbiAgICDQstC+0LfQvNC+0LbQvdC+LCDRgdGC0LDQvdC10YIg0LPQu9Cw0LLQvdGL0Lwg0LfQu9C+0LTQtdC10Lwg0YTQuNC70YzQvNCwLlxyXG4gIDwvcD5gO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlUmVjZW50aW9uID0gKCkgPT4ge1xyXG4gIHJldHVybiBgXHJcbiAgICA8ZGl2IGNsYXNzPVwiZmVlZGJhY2stY2FyZFwiPlxyXG4gICAgPGRpdiBjbGFzcz1cInVzZXItaW5mb1wiPlxyXG4gICAgICA8c3Bhbj5FeGFtcGxlPC9zcGFuPlxyXG4gICAgICA8c3Bhbj5FeGFtcGxlPC9zcGFuPlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwibWVzc2FnZVwiPlxyXG4gICAgICBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCBjb25zZWN0ZXR1ciwgYWRpcGlzaWNpbmcgZWxpdC4gRGVzZXJ1bnQgdm9sdXB0YXRpYnVzIGF0IGFzc3VtZW5kYSwgYW1ldCBhIGN1bHBhLCByZXB1ZGlhbmRhZSBlYXJ1bSBmdWdpYXQsIGRlbGVuaXRpIG9tbmlzIGVzdCB2b2x1cHRhcyBmYWNlcmUgYWNjdXNhbXVzIHJlcGVsbGF0LlxyXG4gICAgPC9kaXY+XHJcbiAgPC9kaXY+XHJcbiAgICBgO1xyXG59O1xyXG5cclxuY29uc3QgY2xlYXJQYXJlbnRFbGVtZW50ID0gKCkgPT4ge1xyXG4gICQobWFpbkluZm9FbGVtZW50KVxyXG4gICAgLmZpbmQoXCJiclwiKVxyXG4gICAgLnJlbW92ZSgpO1xyXG4gIGNvbnN0IG1haW5JbmZvS2lkcyA9IG1haW5JbmZvRWxlbWVudC5jaGlsZHJlbi5sZW5ndGg7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYWluSW5mb0tpZHM7IGkrKykge1xyXG4gICAgbWFpbkluZm9FbGVtZW50LnJlbW92ZUNoaWxkKG1haW5JbmZvRWxlbWVudC5sYXN0RWxlbWVudENoaWxkKTtcclxuICB9XHJcbiAgcmV0dXJuIHRydWU7XHJcbn07XHJcblxyXG5jb25zdCBzb3J0TGlua0J5TmFtZSA9IGxpbmtUZXh0ID0+IHtcclxuICBjb25zdCBjbGVhciA9IGNsZWFyUGFyZW50RWxlbWVudCgpO1xyXG4gIGlmIChsaW5rVGV4dC50b0xvd2VyQ2FzZSgpID09PSBcItGA0LXRhtC10L3Qt9C40LhcIiAmJiBjbGVhciA9PT0gdHJ1ZSkge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcclxuICAgICAgbWFpbkluZm9FbGVtZW50Lmluc2VydEFkamFjZW50SFRNTChcImFmdGVyYmVnaW5cIiwgY3JlYXRlUmVjZW50aW9uKCkpO1xyXG4gICAgfVxyXG4gIH1cclxuICBpZiAobGlua1RleHQudG9Mb3dlckNhc2UoKSA9PT0gXCLQvtC/0LjRgdCw0L3QuNC1XCIgJiYgY2xlYXIgPT09IHRydWUpIHtcclxuICAgIG1haW5JbmZvRWxlbWVudC5pbnNlcnRBZGphY2VudEhUTUwoXCJhZnRlcmJlZ2luXCIsIGNyZWF0ZURlc2NyaXB0aW9uKCkpO1xyXG4gIH1cclxuICBpZiAobGlua1RleHQudG9Mb3dlckNhc2UoKSA9PT0gXCLQsNC60YLQtdGA0YtcIiAmJiBjbGVhciA9PT0gdHJ1ZSkge1xyXG4gICAgY29uc3QgY2hhbmdlZEFyciA9IGFjdG9yc0luZm8ubWFwKGl0ZW0gPT4ge1xyXG4gICAgICByZXR1cm4gY3JlYXRlQWN0b3JDYXJkKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgICBtYWluSW5mb0VsZW1lbnQuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYWZ0ZXJiZWdpblwiLCBjcmVhdGVBY3RvcnNXcmFwcGVyKCkpO1xyXG4gICAgZm9yIChsZXQgaXRlbSBvZiBjaGFuZ2VkQXJyKSB7XHJcbiAgICAgIG1haW5JbmZvRWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZC5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmVlbmRcIiwgaXRlbSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGlmIChcclxuICAgIGxpbmtUZXh0LnRvTG93ZXJDYXNlKCkgPT09IFwi0L/RgNC10LzRjNC10YDRi1wiIHx8XHJcbiAgICBsaW5rVGV4dC50b0xvd2VyQ2FzZSgpID09PSBcItC90LDQs9GA0LDQtNGLXCIgfHxcclxuICAgIGxpbmtUZXh0LnRvTG93ZXJDYXNlKCkgPT09IFwi0YTQsNC60YLRi1wiIHx8XHJcbiAgICAobGlua1RleHQudG9Mb3dlckNhc2UoKSA9PT0gXCLRgdCw0LnRgtGLXCIgJiYgY2xlYXIgPT09IHRydWUpXHJcbiAgKSB7XHJcbiAgICBtYWluSW5mb0VsZW1lbnQuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYWZ0ZXJiZWdpblwiLCBjcmVhdGVOb3RGb3VuZEJsb2NrKCkpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGNoYW5nZVRhYiA9IHRhcmdldCA9PiB7XHJcbiAgaWYgKHRhcmdldC50YWdOYW1lID09PSBcIkFcIikge1xyXG4gICAgY29uc3QgbGlua3MgPSBsaW5rc0xpc3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJhXCIpO1xyXG4gICAgZm9yIChsZXQgaXRlbSBvZiBsaW5rcykge1xyXG4gICAgICBpdGVtLnN0eWxlLmNvbG9yID0gXCJibGFja1wiO1xyXG4gICAgfVxyXG4gICAgdGFyZ2V0LnN0eWxlLmNvbG9yID0gXCIjRkY4RjI3XCI7XHJcbiAgICBzb3J0TGlua0J5TmFtZSh0YXJnZXQudGV4dENvbnRlbnQpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGdldFVzZXJNYWlsID0gdXNlck1haWwgPT4ge1xyXG4gIGNvbnNvbGUubG9nKHVzZXJNYWlsKTtcclxufTtcclxuXHJcbmNvbnN0IHNldE1vdmllID0gcmVzdWx0TW92aWUgPT4ge1xyXG4gIG1vdmllTGlzdC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgZm9yIChsZXQgaXRlbSBvZiByZXN1bHRNb3ZpZSkge1xyXG4gICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcbiAgICBsaS5pbm5lckhUTUwgPSBpdGVtO1xyXG4gICAgbW92aWVMaXN0LmFwcGVuZChsaSk7XHJcbiAgICBsaS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBzZWFyY2hJbnB1dC52YWx1ZSA9IGxpLnRleHRDb250ZW50O1xyXG4gICAgICBtb3ZpZUxpc3QudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlTW92aWVMaXN0ID0gKCkgPT4ge1xyXG4gIG1vdmllTGlzdC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgaWYgKHNlYXJjaElucHV0LnZhbHVlICE9IFwiXCIpIHtcclxuICAgIGNvbnN0IHJlc3VsdE1vdmllID0gbW92aWVzLmZpbHRlcihpdGVtID0+IHtcclxuICAgICAgcmV0dXJuIGl0ZW0udG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKHNlYXJjaElucHV0LnZhbHVlLnRvTG93ZXJDYXNlKCkpO1xyXG4gICAgfSk7XHJcbiAgICBzZXRNb3ZpZShyZXN1bHRNb3ZpZSk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3Qgc2VuZEVtYWlsID0gKCkgPT4ge1xyXG4gIGNvbnN0IG1haWxWYWx1ZSA9IHN5YnNjcmliZUZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3Vic2NyaWJlLWZpZWxkXCIpO1xyXG4gIGNvbnN0IG1haWxSZWdleCA9IC9eW1xcdy1cXC5dK0BbXFx3LV0rXFwuW2Etel17Miw0fSQvaTtcclxuICBpZiAobWFpbFJlZ2V4LnRlc3QobWFpbFZhbHVlLnZhbHVlKSkge1xyXG4gICAgZ2V0VXNlck1haWwobWFpbFZhbHVlLnZhbHVlKTtcclxuICAgIHN3YWwoe1xyXG4gICAgICBpY29uOiBcInN1Y2Nlc3NcIixcclxuICAgICAgdGl0bGU6IFwi0KPRgdC/0LXRhSFcIixcclxuICAgICAgdGV4dDogXCLQktGLINC/0L7QtNC/0LjRgdCw0LvQuNGB0Ywg0L3QsCDRgNCw0YHRgdGL0LvQutGDXCJcclxuICAgIH0pO1xyXG4gICAgbWFpbFZhbHVlLnZhbHVlID0gXCJcIjtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBhZGRCb29rTWFyayA9ICgpID0+IHtcclxuICBjb25zdCBjaGVjayA9IGJvb2tNYXJrLmZpcnN0RWxlbWVudENoaWxkLmdldEF0dHJpYnV0ZShcImNoZWNrXCIpO1xyXG4gIGlmIChjaGVjayA9PSBcImZhbHNlXCIpIHtcclxuICAgIGJvb2tNYXJrLmZpcnN0RWxlbWVudENoaWxkLnNyYyA9IFwiLi9pbWcvYm9va21hcmstaWNvbi5zdmdcIjtcclxuICAgIGJvb2tNYXJrLmZpcnN0RWxlbWVudENoaWxkLnJlbW92ZUF0dHJpYnV0ZShcImNoZWNrXCIpO1xyXG4gICAgYm9va01hcmsuZmlyc3RFbGVtZW50Q2hpbGQuc2V0QXR0cmlidXRlKFwiY2hlY2tcIiwgXCJ0cnVlXCIpO1xyXG4gICAgc3dhbCh7XHJcbiAgICAgIGljb246IFwic3VjY2Vzc1wiLFxyXG4gICAgICB0aXRsZTogXCLQlNC+0LHQsNCy0LvQtdC90L4hXCIsXHJcbiAgICAgIHRleHQ6IFwi0KLQtdC/0LXRgNGMINGB0YLRgNCw0L3QuNGG0LAg0LIg0LLQsNGI0LjRhSDQt9Cw0LrQu9Cw0LTQutCw0YVcIixcclxuICAgICAgY2xvc2VPbkNsaWNrT3V0c2lkZTogdHJ1ZSxcclxuICAgICAgYnV0dG9uczogZmFsc2UsXHJcbiAgICAgIHRpbWVyOiAyNTAwXHJcbiAgICB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgYm9va01hcmsuZmlyc3RFbGVtZW50Q2hpbGQuc3JjID0gXCIuL2ltZy9zdmctZWRpdG9yLWltYWdlLnN2Z1wiO1xyXG4gICAgYm9va01hcmsuZmlyc3RFbGVtZW50Q2hpbGQucmVtb3ZlQXR0cmlidXRlKFwiY2hlY2tcIik7XHJcbiAgICBib29rTWFyay5maXJzdEVsZW1lbnRDaGlsZC5zZXRBdHRyaWJ1dGUoXCJjaGVja1wiLCBcImZhbHNlXCIpO1xyXG4gICAgc3dhbCh7XHJcbiAgICAgIGljb246IFwic3VjY2Vzc1wiLFxyXG4gICAgICB0aXRsZTogXCLQo9C00LDQu9C10L3QviFcIixcclxuICAgICAgdGV4dDogXCLQodGC0YDQsNC90LjRhtCwINGD0LTQsNC70LXQvdCwINC40Lcg0YHQv9C40YHQutCwINCy0LDRiNC40YUg0LfQsNC60LvQsNC00L7QulwiLFxyXG4gICAgICBjbG9zZU9uQ2xpY2tPdXRzaWRlOiB0cnVlLFxyXG4gICAgICBidXR0b25zOiBmYWxzZSxcclxuICAgICAgdGltZXI6IDI1MDBcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbnN5YnNjcmliZUZvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgZXZlbnQgPT4ge1xyXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgc2VuZEVtYWlsKCk7XHJcbn0pO1xyXG5cclxuYm9va01hcmsuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBhZGRCb29rTWFyaygpO1xyXG59KTtcclxuXHJcbnNlYXJjaElucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgY3JlYXRlTW92aWVMaXN0KCk7XHJcbn0pO1xyXG5cclxubGlua3NMaXN0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnQgPT4ge1xyXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgY2hhbmdlVGFiKGV2ZW50LnRhcmdldCk7XHJcbn0pO1xyXG4iXX0=
